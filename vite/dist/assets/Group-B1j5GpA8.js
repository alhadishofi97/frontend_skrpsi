import{V as Ot,W as Dt,X as Vt,g as $e,a as Ne,e as x,_ as y,Y as jt,f as F,i as le,j as T,Z as V,$ as Ft,a0 as Lt,h as $t,s as K,a1 as q,m as _e,a2 as Nt,o as A,k as Be,a3 as Ke,P as je,a4 as Ue,a5 as _t,a6 as B,a7 as Fe,a8 as xe,J as Te}from"./index-Bg9J7LGO.js";import{X as Bt}from"./index.es-CFrVd-4k.js";import{I as Kt}from"./IconPencil-B0myttkp.js";import{C as Xe}from"./Checkbox-Cg-S3rF-.js";function Ut({props:e,name:t}){return Ot({props:e,name:t,defaultTheme:Dt,themeId:Vt})}function ze(e){return Ut}function Xt(e){return Ne("MuiSimpleTreeView",e)}$e("MuiSimpleTreeView",["root"]);const zt=(e,t)=>{const n=x.useRef({}),[r,c]=x.useState(()=>{const d={};return e.forEach(i=>{i.models&&Object.entries(i.models).forEach(([p,l])=>{n.current[p]={isControlled:t[p]!==void 0,getDefaultValue:l.getDefaultValue},d[p]=l.getDefaultValue(t)})}),d});return Object.fromEntries(Object.entries(n.current).map(([d,i])=>{const p=t[d]??r[d];return[d,{value:p,setControlledValue:l=>{i.isControlled||c(s=>y({},s,{[d]:l}))}}]}))};class Jt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let c=this.events[t];c||(c={highPriority:new Map,regular:new Map},this.events[t]=c),r.isFirst?c.highPriority.set(n,!0):c.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const c=Array.from(r.highPriority.keys()),f=Array.from(r.regular.keys());for(let d=c.length-1;d>=0;d-=1){const i=c[d];r.highPriority.has(i)&&i.apply(this,n)}for(let d=0;d<f.length;d+=1){const i=f[d];r.regular.has(i)&&i.apply(this,n)}}once(t,n){const r=this;this.on(t,function c(...f){r.removeListener(t,c),n.apply(r,f)})}}const Wt=e=>e.isPropagationStopped!==void 0,Je=()=>{const[e]=x.useState(()=>new Jt),t=x.useCallback((...r)=>{const[c,f,d={}]=r;d.defaultMuiPrevented=!1,!(Wt(d)&&d.isPropagationStopped())&&e.emit(c,f,d)},[e]),n=x.useCallback((r,c)=>(e.on(r,c),()=>{e.removeListener(r,c)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};Je.params={};const We=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};We.params={};const qe=({params:e})=>{const t=jt(e.id),n=x.useCallback((r,c)=>c??`${t}-${r}`,[t]);return{getRootProps:()=>({id:t}),instance:{getTreeItemIdAttribute:n}}};qe.params={id:!0};const qt=[Je,We,qe],Gt=["slots","slotProps","apiRef","experimentalFeatures"],Yt=e=>{let{props:{slots:t,slotProps:n,apiRef:r,experimentalFeatures:c},plugins:f}=e,d=F(e.props,Gt);const i={};f.forEach(o=>{Object.assign(i,o.params)});const p={},l={};Object.keys(d).forEach(o=>{const a=d[o];i[o]?p[o]=a:l[o]=a});const s=f.reduce((o,a)=>a.getDefaultizedParams?a.getDefaultizedParams(o):o,p);return{apiRef:r,forwardedProps:l,pluginParams:s,slots:t??{},slotProps:n??{},experimentalFeatures:c??{}}},Qt=({plugins:e,instance:t,publicAPI:n,rootRef:r})=>({runItemPlugins:i=>{let p=null,l=null;const s=[],o={};e.forEach(g=>{if(!g.itemPlugin)return;const m=g.itemPlugin({props:i,rootRef:p,contentRef:l});m!=null&&m.rootRef&&(p=m.rootRef),m!=null&&m.contentRef&&(l=m.contentRef),m!=null&&m.propsEnhancers&&(s.push(m.propsEnhancers),Object.keys(m.propsEnhancers).forEach(I=>{o[I]=!0}))});const a=g=>m=>{const I={};return s.forEach(h=>{const b=h[g];b!=null&&Object.assign(I,b(m))}),I},u=Object.fromEntries(Object.keys(o).map(g=>[g,a(g)]));return{contentRef:l,rootRef:p,propsEnhancers:u}},wrapItem:({itemId:i,children:p})=>{let l=p;for(let s=e.length-1;s>=0;s-=1){const o=e[s];o.wrapItem&&(l=o.wrapItem({itemId:i,children:l,instance:t}))}return l},wrapRoot:({children:i})=>{let p=i;for(let l=e.length-1;l>=0;l-=1){const s=e[l];s.wrapRoot&&(p=s.wrapRoot({children:p,instance:t}))}return p},instance:t,rootRef:r,publicAPI:n});function Zt(e){const t=x.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const Ht=({plugins:e,rootRef:t,props:n})=>{const r=[...qt,...e],{pluginParams:c,forwardedProps:f,apiRef:d,experimentalFeatures:i,slots:p,slotProps:l}=Yt({plugins:r,props:n}),s=zt(r,c),a=x.useRef({}).current,u=Zt(d),g=x.useRef(null),m=le(g,t),I=Qt({plugins:r,instance:a,publicAPI:u,rootRef:g}),[h,b]=x.useState(()=>{const S={};return r.forEach(v=>{v.getInitialState&&Object.assign(S,v.getInitialState(c))}),S}),E=[],M=S=>{const v=S({instance:a,params:c,slots:p,slotProps:l,experimentalFeatures:i,state:h,setState:b,rootRef:g,models:s,plugins:r});v.getRootProps&&E.push(v.getRootProps),v.publicAPI&&Object.assign(u,v.publicAPI),v.instance&&Object.assign(a,v.instance),v.contextValue&&Object.assign(I,v.contextValue)};return r.forEach(M),{getRootProps:(S={})=>{const v=y({role:"tree"},f,S,{ref:m});return E.forEach(j=>{Object.assign(v,j(S))}),v},rootRef:m,contextValue:I,instance:a}},Ge=x.createContext(null);function en(e){const{value:t,children:n}=e;return T.jsx(Ge.Provider,{value:t,children:t.wrapRoot({children:n})})}const U=()=>{const e=x.useContext(Ge);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},Ye=(e,t,n)=>{e.$$publishEvent(t,n)},L="__TREE_VIEW_ROOT_PARENT_ID__",Qe=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},G=x.createContext(()=>-1),tn=["children"],Ze=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:r})=>{const c={},f={},d={[L]:[]},i=(l,s,o)=>{var m,I;const a=r?r(l):l.id;if(a==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(l)].join(`
`));if(c[a]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${a}"`].join(`
`));const u=n?n(l):l.label;if(u==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(l)].join(`
`));c[a]={id:a,label:u,parentId:o,idAttribute:void 0,expandable:!!((m=l.children)!=null&&m.length),disabled:t?t(l):!1,depth:s},f[a]=l;const g=o??L;d[g]||(d[g]=[]),d[g].push(a),(I=l.children)==null||I.forEach(h=>i(h,s+1,a))};e.forEach(l=>i(l,0,null));const p={};return Object.keys(d).forEach(l=>{p[l]=Qe(d[l])}),{itemMetaMap:c,itemMap:f,itemOrderedChildrenIds:d,itemChildrenIndexes:p}},Q=({instance:e,params:t,state:n,setState:r,experimentalFeatures:c})=>{const f=x.useCallback(h=>n.items.itemMetaMap[h],[n.items.itemMetaMap]),d=x.useCallback(h=>n.items.itemMap[h],[n.items.itemMap]),i=x.useCallback(()=>{const h=b=>{const E=n.items.itemMap[b],M=F(E,tn),C=n.items.itemOrderedChildrenIds[b];return C&&(M.children=C.map(h)),M};return n.items.itemOrderedChildrenIds[L].map(h)},[n.items.itemMap,n.items.itemOrderedChildrenIds]),p=x.useCallback(h=>{if(h==null)return!1;let b=e.getItemMeta(h);if(!b)return!1;if(b.disabled)return!0;for(;b.parentId!=null;)if(b=e.getItemMeta(b.parentId),b.disabled)return!0;return!1},[e]),l=x.useCallback(h=>{const b=e.getItemMeta(h).parentId??L;return n.items.itemChildrenIndexes[b][h]},[e,n.items.itemChildrenIndexes]),s=x.useCallback(h=>n.items.itemOrderedChildrenIds[h??L]??[],[n.items.itemOrderedChildrenIds]),o=h=>{const b=e.getItemMeta(h);return b==null?null:document.getElementById(e.getTreeItemIdAttribute(h,b.idAttribute))},a=h=>t.disabledItemsFocusable?!0:!e.isItemDisabled(h),u=x.useRef(!1),g=x.useCallback(()=>{u.current=!0},[]),m=x.useCallback(()=>u.current,[]);return x.useEffect(()=>{e.areItemUpdatesPrevented()||r(h=>{const b=Ze({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(h.items.itemMetaMap).forEach(E=>{b.itemMetaMap[E.id]||Ye(e,"removeItem",{id:E.id})}),y({},h,{items:b})})},[e,r,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:d,getItemDOMElement:o,getItemTree:i,getItemOrderedChildrenIds:s},instance:{getItemMeta:f,getItem:d,getItemTree:i,getItemsToRender:()=>{const h=b=>{var M;const E=n.items.itemMetaMap[b];return{label:E.label,itemId:E.id,id:E.idAttribute,children:(M=n.items.itemOrderedChildrenIds[b])==null?void 0:M.map(h)}};return n.items.itemOrderedChildrenIds[L].map(h)},getItemIndex:l,getItemDOMElement:o,getItemOrderedChildrenIds:s,isItemDisabled:p,isItemNavigable:a,preventItemUpdates:g,areItemUpdatesPrevented:m},contextValue:{items:{onItemClick:t.onItemClick,disabledItemsFocusable:t.disabledItemsFocusable,indentationAtItemLevel:c.indentationAtItemLevel??!1}}}};Q.getInitialState=e=>({items:Ze({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});Q.getDefaultizedParams=e=>y({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});Q.wrapRoot=({children:e,instance:t})=>T.jsx(G.Provider,{value:n=>{var r;return((r=t.getItemMeta(n))==null?void 0:r.depth)??0},children:e});Q.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const ae=({instance:e,params:t,models:n})=>{const r=x.useMemo(()=>{const o=new Map;return n.expandedItems.value.forEach(a=>{o.set(a,!0)}),o},[n.expandedItems.value]),c=(o,a)=>{var u;(u=t.onExpandedItemsChange)==null||u.call(t,o,a),n.expandedItems.setControlledValue(a)},f=x.useCallback(o=>r.has(o),[r]),d=x.useCallback(o=>{var a;return!!((a=e.getItemMeta(o))!=null&&a.expandable)},[e]),i=V((o,a)=>{const u=e.isItemExpanded(a);e.setItemExpansion(o,a,!u)}),p=V((o,a,u)=>{if(e.isItemExpanded(a)===u)return;let m;u?m=[a].concat(n.expandedItems.value):m=n.expandedItems.value.filter(I=>I!==a),t.onItemExpansionToggle&&t.onItemExpansionToggle(o,a,u),c(o,m)}),l=(o,a)=>{const u=e.getItemMeta(a),m=e.getItemOrderedChildrenIds(u.parentId).filter(h=>e.isItemExpandable(h)&&!e.isItemExpanded(h)),I=n.expandedItems.value.concat(m);m.length>0&&(t.onItemExpansionToggle&&m.forEach(h=>{t.onItemExpansionToggle(o,h,!0)}),c(o,I))},s=x.useMemo(()=>t.expansionTrigger?t.expansionTrigger:e.isTreeViewEditable?"iconContainer":"content",[t.expansionTrigger,e.isTreeViewEditable]);return{publicAPI:{setItemExpansion:p},instance:{isItemExpanded:f,isItemExpandable:d,setItemExpansion:p,toggleItemExpansion:i,expandAllSiblings:l},contextValue:{expansion:{expansionTrigger:s}}}};ae.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const nn=[];ae.getDefaultizedParams=e=>y({},e,{defaultExpandedItems:e.defaultExpandedItems??nn});ae.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const He=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},et=(e,t)=>{const n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),c=e.getItemIndex(t);if(c===0)return n.parentId;let f=c-1;for(;!e.isItemNavigable(r[f])&&f>=0;)f-=1;if(f===-1)return n.parentId==null?null:et(e,n.parentId);let d=r[f],i=He(e,e.getItemOrderedChildrenIds(d));for(;e.isItemExpanded(d)&&i!=null;)d=i,i=e.getItemOrderedChildrenIds(d).find(e.isItemNavigable);return d},oe=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(r!=null)return r}let n=e.getItemMeta(t);for(;n!=null;){const r=e.getItemOrderedChildrenIds(n.parentId),c=e.getItemIndex(n.id);if(c<r.length-1){let f=c+1;for(;!e.isItemNavigable(r[f])&&f<r.length-1;)f+=1;if(e.isItemNavigable(r[f]))return r[f]}n=e.getItemMeta(n.parentId)}return null},tt=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),r=He(e,n);if(r==null)return t;t=r}return t},Y=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),nt=(e,t,n)=>{if(t===n)return[t,n];const r=e.getItemMeta(t),c=e.getItemMeta(n);if(r.parentId===c.id||c.parentId===r.id)return c.parentId===r.id?[r.id,c.id]:[c.id,r.id];const f=[r.id],d=[c.id];let i=r.parentId,p=c.parentId,l=d.indexOf(i)!==-1,s=f.indexOf(p)!==-1,o=!0,a=!0;for(;!s&&!l;)o&&(f.push(i),l=d.indexOf(i)!==-1,o=i!==null,!l&&o&&(i=e.getItemMeta(i).parentId)),a&&!l&&(d.push(p),s=f.indexOf(p)!==-1,a=p!==null,!s&&a&&(p=e.getItemMeta(p).parentId));const u=l?i:p,g=e.getItemOrderedChildrenIds(u),m=f[f.indexOf(u)-1],I=d[d.indexOf(u)-1];return g.indexOf(m)<g.indexOf(I)?[t,n]:[n,t]},rn=(e,t,n)=>{const r=p=>{if(e.isItemExpandable(p)&&e.isItemExpanded(p))return e.getItemOrderedChildrenIds(p)[0];let l=e.getItemMeta(p);for(;l!=null;){const s=e.getItemOrderedChildrenIds(l.parentId),o=e.getItemIndex(l.id);if(o<s.length-1)return s[o+1];l=e.getItemMeta(l.parentId)}throw new Error("Invalid range")},[c,f]=nt(e,t,n),d=[c];let i=c;for(;i!==f;)i=r(i),e.isItemDisabled(i)||d.push(i);return d},on=e=>{let t=Y(e);const n=[];for(;t!=null;)n.push(t),t=oe(e,t);return n},Ce=(e,t)=>t!==e.closest('*[role="treeitem"]'),se=e=>Array.isArray(e)?e:e!=null?[e]:[],ye=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},ce=({instance:e,params:t,models:n})=>{const r=x.useRef(null),c=x.useRef({}),f=x.useMemo(()=>{const m=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(I=>{m.set(I,!0)}):n.selectedItems.value!=null&&m.set(n.selectedItems.value,!0),m},[n.selectedItems.value]),d=(m,I)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const h=I.filter(E=>!e.isItemSelected(E)),b=n.selectedItems.value.filter(E=>!I.includes(E));h.forEach(E=>{t.onItemSelectionToggle(m,E,!0)}),b.forEach(E=>{t.onItemSelectionToggle(m,E,!1)})}else I!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(m,n.selectedItems.value,!1),I!=null&&t.onItemSelectionToggle(m,I,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(m,I),n.selectedItems.setControlledValue(I)},i=m=>f.has(m),p=({event:m,itemId:I,keepExistingSelection:h=!1,shouldBeSelected:b})=>{if(t.disableSelection)return;let E;if(h){const M=se(n.selectedItems.value),C=e.isItemSelected(I);C&&(b===!1||b==null)?E=M.filter(S=>S!==I):!C&&(b===!0||b==null)?E=[I].concat(M):E=M}else b===!1||b==null&&e.isItemSelected(I)?E=t.multiSelect?[]:null:E=t.multiSelect?[I]:I;d(m,E),r.current=I,c.current={}},l=(m,[I,h])=>{if(t.disableSelection||!t.multiSelect)return;let b=se(n.selectedItems.value).slice();Object.keys(c.current).length>0&&(b=b.filter(S=>!c.current[S]));const E=ye(b),M=rn(e,I,h),C=M.filter(S=>!E[S]);b=b.concat(C),d(m,b),c.current=ye(M)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{selectItem:p},instance:{isItemSelected:i,selectItem:p,selectAllNavigableItems:m=>{if(t.disableSelection||!t.multiSelect)return;const I=on(e);d(m,I),c.current=ye(I)},expandSelectionRange:(m,I)=>{if(r.current!=null){const[h,b]=nt(e,I,r.current);l(m,[h,b])}},selectRangeFromStartToItem:(m,I)=>{l(m,[Y(e),I])},selectRangeFromItemToEnd:(m,I)=>{l(m,[I,tt(e)])},selectItemFromArrowNavigation:(m,I,h)=>{if(t.disableSelection||!t.multiSelect)return;let b=se(n.selectedItems.value).slice();Object.keys(c.current).length===0?(b.push(h),c.current={[I]:!0,[h]:!0}):(c.current[I]||(c.current={}),c.current[h]?(b=b.filter(E=>E!==I),delete c.current[I]):(b.push(h),c.current[h]=!0)),d(m,b)}},contextValue:{selection:{multiSelect:t.multiSelect,checkboxSelection:t.checkboxSelection,disableSelection:t.disableSelection}}}};ce.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const sn=[];ce.getDefaultizedParams=e=>y({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?sn:null)});ce.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const Le=1e3;class ln{constructor(t=Le){this.timeouts=new Map,this.cleanupTimeout=Le,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const c=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,c)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class an{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class cn{}function un(e){let t=0;return function(r,c,f){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new an:new ln);const[d]=x.useState(new cn),i=x.useRef(null),p=x.useRef();p.current=f;const l=x.useRef(null);if(!i.current&&p.current){const s=(o,a)=>{var u;a.defaultMuiPrevented||(u=p.current)==null||u.call(p,o,a)};i.current=r.$$subscribeEvent(c,s),t+=1,l.current={cleanupToken:t},e.registry.register(d,()=>{var o;(o=i.current)==null||o.call(i),i.current=null,l.current=null},l.current)}else!p.current&&i.current&&(i.current(),i.current=null,l.current&&(e.registry.unregister(l.current),l.current=null));x.useEffect(()=>{if(!i.current&&p.current){const s=(o,a)=>{var u;a.defaultMuiPrevented||(u=p.current)==null||u.call(p,o,a)};i.current=r.$$subscribeEvent(c,s)}return l.current&&e.registry&&(e.registry.unregister(l.current),l.current=null),()=>{var s;(s=i.current)==null||s.call(i),i.current=null}},[r,c])}}const dn={registry:null},pn=un(dn),rt=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?rt(t.shadowRoot):t:null};function mn(e){return e.replace(/["\\]/g,"\\$&")}const fn=(e,t)=>{let n=se(t).find(r=>{if(!e.isItemNavigable(r))return!1;const c=e.getItemMeta(r);return c&&(c.parentId==null||e.isItemExpanded(c.parentId))});return n==null&&(n=Y(e)),n},Ee=({instance:e,params:t,state:n,setState:r,models:c,rootRef:f})=>{const d=fn(e,c.selectedItems.value),i=V(I=>{const h=typeof I=="function"?I(n.focusedItemId):I;n.focusedItemId!==h&&r(b=>y({},b,{focusedItemId:h}))}),p=x.useCallback(()=>!!f.current&&f.current.contains(rt(Ft(f.current))),[f]),l=x.useCallback(I=>n.focusedItemId===I&&p(),[n.focusedItemId,p]),s=I=>{const h=e.getItemMeta(I);return h&&(h.parentId==null||e.isItemExpanded(h.parentId))},o=(I,h)=>{const b=e.getItemDOMElement(h);b&&b.focus(),i(h),t.onItemFocus&&t.onItemFocus(I,h)},a=V((I,h)=>{s(h)&&o(I,h)}),u=V(()=>{if(n.focusedItemId==null)return;const I=e.getItemMeta(n.focusedItemId);if(I){const h=document.getElementById(e.getTreeItemIdAttribute(n.focusedItemId,I.idAttribute));h&&h.blur()}i(null)}),g=I=>I===d;pn(e,"removeItem",({id:I})=>{n.focusedItemId===I&&o(null,d)});const m=I=>h=>{var b;(b=I.onFocus)==null||b.call(I,h),!h.defaultMuiPrevented&&h.target===h.currentTarget&&o(h,d)};return{getRootProps:I=>({onFocus:m(I)}),publicAPI:{focusItem:a},instance:{isItemFocused:l,canItemBeTabbed:g,focusItem:a,removeFocusedItem:u}}};Ee.getInitialState=()=>({focusedItemId:null});Ee.params={onItemFocus:!0};const ie=(e,t)=>e.getAvailablePlugins().has(t),In=({props:e})=>{const{instance:t}=U(),{label:n,itemId:r}=e,[c,f]=x.useState(n),d=t.isItemBeingEdited(r);return x.useEffect(()=>{d||f(n)},[d,n]),{propsEnhancers:{labelInput:({externalEventHandlers:i,interactions:p})=>t.isItemEditable(r)?{value:c??"","data-element":"labelInput",onChange:u=>{var g;(g=i.onChange)==null||g.call(i,u),f(u.target.value)},onKeyDown:u=>{var m;if((m=i.onKeyDown)==null||m.call(i,u),u.defaultMuiPrevented)return;const g=u.target;u.key==="Enter"&&g.value?p.handleSaveItemLabel(u,g.value):u.key==="Escape"&&p.handleCancelItemLabelEditing(u)},onBlur:u=>{var g;(g=i.onBlur)==null||g.call(i,u),!u.defaultMuiPrevented&&u.target.value&&p.handleSaveItemLabel(u,u.target.value)},autoFocus:!0,type:"text"}:{}}}},$=({instance:e,state:t,setState:n,params:r,experimentalFeatures:c})=>{const f=x.useRef(t.editedItemId),d=a=>f.current===a,i=a=>{n(u=>y({},u,{editedItemId:a})),f.current=a},p=a=>a===t.editedItemId,l=!!r.isItemEditable&&!!c.labelEditing,s=a=>{if(a==null||!l)return!1;const u=e.getItem(a);return u?typeof r.isItemEditable=="function"?r.isItemEditable(u):!!r.isItemEditable:!1},o=(a,u)=>{if(!u)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",a].join(`
`));n(g=>{const m=g.items.itemMetaMap[a];return m.label!==u?y({},g,{items:y({},g.items,{itemMetaMap:y({},g.items.itemMetaMap,{[a]:y({},m,{label:u})})})}):g}),r.onItemLabelChange&&r.onItemLabelChange(a,u)};return{instance:{setEditedItemId:i,isItemBeingEdited:p,updateItemLabel:o,isItemEditable:s,isTreeViewEditable:l,isItemBeingEditedRef:d},publicAPI:{updateItemLabel:o}}};$.itemPlugin=In;$.getInitialState=()=>({editedItemId:null});$.params={onItemLabelChange:!0,isItemEditable:!0};function gn(e){return!!e&&e.length===1&&!!e.match(/\S/)}const ot=({instance:e,params:t,state:n})=>{const r=Lt(),c=x.useRef({}),f=V(s=>{c.current=s(c.current)});x.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const s={},o=a=>{s[a.id]=a.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(o),c.current=s},[n.items.itemMetaMap,t.getItemId,e]);const d=(s,o)=>{const a=o.toLowerCase(),u=h=>{const b=oe(e,h);return b===null?Y(e):b};let g=null,m=u(s);const I={};for(;g==null&&!I[m];)c.current[m]===a?g=m:(I[m]=!0,m=u(m));return g},i=s=>!t.disableSelection&&!e.isItemDisabled(s),p=s=>!e.isItemDisabled(s)&&e.isItemExpandable(s);return{instance:{updateFirstCharMap:f,handleItemKeyDown:(s,o)=>{if(s.defaultMuiPrevented||s.altKey||Ce(s.target,s.currentTarget))return;const a=s.ctrlKey||s.metaKey,u=s.key;switch(!0){case(u===" "&&i(o)):{s.preventDefault(),t.multiSelect&&s.shiftKey?e.expandSelectionRange(s,o):e.selectItem({event:s,itemId:o,keepExistingSelection:t.multiSelect,shouldBeSelected:t.multiSelect?void 0:!0});break}case u==="Enter":{ie(e,$)&&e.isItemEditable(o)&&!e.isItemBeingEdited(o)?e.setEditedItemId(o):p(o)?(e.toggleItemExpansion(s,o),s.preventDefault()):i(o)&&(t.multiSelect?(s.preventDefault(),e.selectItem({event:s,itemId:o,keepExistingSelection:!0})):e.isItemSelected(o)||(e.selectItem({event:s,itemId:o}),s.preventDefault()));break}case u==="ArrowDown":{const g=oe(e,o);g&&(s.preventDefault(),e.focusItem(s,g),t.multiSelect&&s.shiftKey&&i(g)&&e.selectItemFromArrowNavigation(s,o,g));break}case u==="ArrowUp":{const g=et(e,o);g&&(s.preventDefault(),e.focusItem(s,g),t.multiSelect&&s.shiftKey&&i(g)&&e.selectItemFromArrowNavigation(s,o,g));break}case(u==="ArrowRight"&&!r||u==="ArrowLeft"&&r):{if(e.isItemExpanded(o)){const g=oe(e,o);g&&(e.focusItem(s,g),s.preventDefault())}else p(o)&&(e.toggleItemExpansion(s,o),s.preventDefault());break}case(u==="ArrowLeft"&&!r||u==="ArrowRight"&&r):{if(p(o)&&e.isItemExpanded(o))e.toggleItemExpansion(s,o),s.preventDefault();else{const g=e.getItemMeta(o).parentId;g&&(e.focusItem(s,g),s.preventDefault())}break}case u==="Home":{i(o)&&t.multiSelect&&a&&s.shiftKey?e.selectRangeFromStartToItem(s,o):e.focusItem(s,Y(e)),s.preventDefault();break}case u==="End":{i(o)&&t.multiSelect&&a&&s.shiftKey?e.selectRangeFromItemToEnd(s,o):e.focusItem(s,tt(e)),s.preventDefault();break}case u==="*":{e.expandAllSiblings(s,o),s.preventDefault();break}case(u==="a"&&a&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(s),s.preventDefault();break}case(!a&&!s.shiftKey&&gn(u)):{const g=d(o,u);g!=null&&(e.focusItem(s,g),s.preventDefault());break}}}}}};ot.params={};const st=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});st.params={};const it=x.createContext(null);function lt(e){const{children:t,itemId:n=null}=e,{instance:r,rootRef:c}=U(),f=x.useRef(new Map);x.useEffect(()=>{if(!c.current)return;let i=null;if(n==null)i=c.current.id;else{const u=r.getItemMeta(n);u!==void 0&&(i=r.getTreeItemIdAttribute(n,u.idAttribute))}if(i==null)return;const p=r.getItemOrderedChildrenIds(n??null)??[],l=mn(i),s=c.current.querySelectorAll(`${n==null?"":`*[id="${l}"] `}[role="treeitem"]:not(*[id="${l}"] [role="treeitem"] [role="treeitem"])`),o=Array.from(s).map(u=>f.current.get(u.id));(o.length!==p.length||o.some((u,g)=>u!==p[g]))&&r.setJSXItemsOrderedChildrenIds(n??null,o)});const d=x.useMemo(()=>({registerChild:(i,p)=>f.current.set(i,p),unregisterChild:i=>f.current.delete(i),parentId:n}),[n]);return T.jsx(it.Provider,{value:d,children:t})}const Z=({instance:e,setState:t})=>{e.preventItemUpdates();const n=V(f=>(t(d=>{if(d.items.itemMetaMap[f.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${f.id}"`].join(`
`));return y({},d,{items:y({},d.items,{itemMetaMap:y({},d.items.itemMetaMap,{[f.id]:f}),itemMap:y({},d.items.itemMap,{[f.id]:{id:f.id,label:f.label}})})})}),()=>{t(d=>{const i=y({},d.items.itemMetaMap),p=y({},d.items.itemMap);return delete i[f.id],delete p[f.id],y({},d,{items:y({},d.items,{itemMetaMap:i,itemMap:p})})}),Ye(e,"removeItem",{id:f.id})})),r=(f,d)=>{const i=f??L;t(p=>y({},p,{items:y({},p.items,{itemOrderedChildrenIds:y({},p.items.itemOrderedChildrenIds,{[i]:d}),itemChildrenIndexes:y({},p.items.itemChildrenIndexes,{[i]:Qe(d)})})}))},c=V((f,d)=>(e.updateFirstCharMap(i=>(i[f]=d,i)),()=>{e.updateFirstCharMap(i=>{const p=y({},i);return delete p[f],p})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:c}}},at=e=>Array.isArray(e)?e.length>0&&e.some(at):!!e,hn=({props:e,rootRef:t,contentRef:n})=>{const{instance:r}=U(),{children:c,disabled:f=!1,label:d,itemId:i,id:p}=e,l=x.useContext(it);if(l==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:s,unregisterChild:o,parentId:a}=l,u=at(c),g=x.useRef(null),m=le(g,n);return $t(()=>{const I=r.getTreeItemIdAttribute(i,p);return s(I,i),()=>{o(I)}},[r,s,o,i,p]),x.useEffect(()=>r.insertJSXItem({id:i,idAttribute:p,parentId:a,expandable:u,disabled:f}),[r,a,i,u,f,p]),x.useEffect(()=>{var I;if(d)return r.mapFirstCharFromJSX(i,(((I=g.current)==null?void 0:I.textContent)??"").substring(0,1).toLowerCase())},[r,i,d]),{contentRef:m,rootRef:t}};Z.itemPlugin=hn;Z.wrapItem=({children:e,itemId:t})=>{const n=x.useContext(G);return T.jsx(lt,{itemId:t,children:T.jsx(G.Provider,{value:n+1,children:e})})};Z.wrapRoot=({children:e})=>T.jsx(lt,{children:T.jsx(G.Provider,{value:0,children:e})});Z.params={};const bn=[Q,ae,ce,Ee,ot,st,Z],xn=ze(),yn=e=>{const{classes:t}=e;return _e({root:["root"]},Xt,t)},Tn=K("ul",{name:"MuiSimpleTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),Cn=[],En=x.forwardRef(function(t,n){const r=xn({props:t,name:"MuiSimpleTreeView"}),c=r,{getRootProps:f,contextValue:d}=Ht({plugins:bn,rootRef:n,props:y({},r,{items:Cn})}),{slots:i,slotProps:p}=r,l=yn(r),s=(i==null?void 0:i.root)??Tn,o=q({elementType:s,externalSlotProps:p==null?void 0:p.root,className:l.root,getSlotProps:f,ownerState:c});return T.jsx(en,{value:d,children:T.jsx(s,y({},o))})});function ct(e){const{instance:t,items:{onItemClick:n},selection:{multiSelect:r,checkboxSelection:c,disableSelection:f},expansion:{expansionTrigger:d}}=U(),i=t.isItemExpandable(e),p=t.isItemExpanded(e),l=t.isItemFocused(e),s=t.isItemSelected(e),o=t.isItemDisabled(e),a=t!=null&&t.isItemBeingEdited?t==null?void 0:t.isItemBeingEdited(e):!1,u=t.isItemEditable?t.isItemEditable(e):!1,g=C=>{if(!o){l||t.focusItem(C,e);const S=r&&(C.shiftKey||C.ctrlKey||C.metaKey);i&&!(S&&t.isItemExpanded(e))&&t.toggleItemExpansion(C,e)}},m=C=>{o||(l||t.focusItem(C,e),r&&(C.shiftKey||C.ctrlKey||C.metaKey)?C.shiftKey?t.expandSelectionRange(C,e):t.selectItem({event:C,itemId:e,keepExistingSelection:!0}):t.selectItem({event:C,itemId:e,shouldBeSelected:!0}))},I=C=>{if(f||o)return;const S=C.nativeEvent.shiftKey;r&&S?t.expandSelectionRange(C,e):t.selectItem({event:C,itemId:e,keepExistingSelection:r,shouldBeSelected:C.target.checked})},h=C=>{(C.shiftKey||C.ctrlKey||C.metaKey||o)&&C.preventDefault()},b=()=>{ie(t,$)&&t.isItemEditable(e)&&(t.isItemBeingEdited(e)?t.setEditedItemId(null):t.setEditedItemId(e))};return{disabled:o,expanded:p,selected:s,focused:l,editable:u,editing:a,disableSelection:f,checkboxSelection:c,handleExpansion:g,handleSelection:m,handleCheckboxSelection:I,handleContentClick:n,preventSelection:h,expansionTrigger:d,toggleItemEditing:b,handleSaveItemLabel:(C,S)=>{ie(t,$)&&t.isItemBeingEditedRef(e)&&(t.updateItemLabel(e,S),b(),t.focusItem(C,e))},handleCancelItemLabelEditing:C=>{ie(t,$)&&t.isItemBeingEditedRef(e)&&(b(),t.focusItem(C,e))}}}const wn=K("div",{name:"MuiTreeItem2DragAndDropOverlay",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Nt(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:A((e.vars||e).palette.primary.dark,.15)}},{props:{action:"reorder-above"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderTopColor:A((e.vars||e).palette.grey[100],.6)}))},{props:{action:"reorder-below"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderBottomColor:A((e.vars||e).palette.grey[100],.6)}))},{props:{action:"move-to-parent"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderBottomColor:A((e.vars||e).palette.grey[900],.6)}))}]}));function Sn(e){return e.action==null?null:T.jsx(wn,y({},e))}const Mn=K("input",{name:"MuiTreeItem2",slot:"LabelInput",overridesResolver:(e,t)=>t.labelInput})(({theme:e})=>y({},e.typography.body1,{width:"100%",backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${e.palette.primary.main}`}})),vn=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown","dragAndDropOverlayProps","labelInputProps"],ut=x.forwardRef(function(t,n){const{classes:r,className:c,displayIcon:f,expansionIcon:d,icon:i,label:p,itemId:l,onClick:s,onMouseDown:o,dragAndDropOverlayProps:a,labelInputProps:u}=t,g=F(t,vn),{disabled:m,expanded:I,selected:h,focused:b,editing:E,editable:M,disableSelection:C,checkboxSelection:S,handleExpansion:v,handleSelection:j,handleCheckboxSelection:N,handleContentClick:O,preventSelection:H,expansionTrigger:X,toggleItemEditing:z}=ct(l),ue=i||d||f,ee=x.useRef(null),de=k=>{H(k),o&&o(k)},pe=k=>{var P;O==null||O(k,l),!((P=ee.current)!=null&&P.contains(k.target))&&(X==="content"&&v(k),S||j(k),s&&s(k))},me=k=>{k.defaultMuiPrevented||z()};return T.jsxs("div",y({},g,{className:Be(c,r.root,I&&r.expanded,h&&r.selected,b&&r.focused,m&&r.disabled,E&&r.editing,M&&r.editable),onClick:pe,onMouseDown:de,ref:n,children:[T.jsx("div",{className:r.iconContainer,children:ue}),S&&T.jsx(Xe,{className:r.checkbox,checked:h,onChange:N,disabled:m||C,ref:ee,tabIndex:-1}),E?T.jsx(Mn,y({},u,{className:r.labelInput})):T.jsx("div",y({className:r.label},M&&{onDoubleClick:me},{children:p})),a&&T.jsx(Sn,y({},a))]}))});function Pn(e){return Ne("MuiTreeItem",e)}const D=$e("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label","checkbox","labelInput","editable","editing","dragAndDropOverlay"]),Rn=Ke(T.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),kn=Ke(T.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function dt(e){const{children:t,itemId:n}=e,{wrapItem:r,instance:c}=U();return r({children:t,itemId:n,instance:c})}dt.propTypes={children:je.node,itemId:je.string.isRequired};const An=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],On=["ownerState"],Dn=["ownerState"],Vn=["ownerState"],jn=ze(),Fn=e=>{const{classes:t}=e;return _e({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],labelInput:["labelInput"],editing:["editing"],editable:["editable"],groupTransition:["groupTransition"]},Pn,t)},Ln=K("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),$n=K(ut,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${D.iconContainer}`]:t.iconContainer},t.label&&{[`& .${D.label}`]:t.label}],shouldForwardProp:e=>Ue(e)&&e!=="indentationAtItemLevel"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${D.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${D.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${D.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${D.label}`]:y({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1),[`& .${D.checkbox}`]:{padding:0},variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`}}]})),Nn=K(_t,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition,shouldForwardProp:e=>Ue(e)&&e!=="indentationAtItemLevel"})({margin:0,padding:0,paddingLeft:"var(--TreeView-itemChildrenIndentation)",variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:0}}]}),_n=x.forwardRef(function(t,n){var Re,ke,Ae,Oe;const{icons:r,runItemPlugins:c,items:{disabledItemsFocusable:f,indentationAtItemLevel:d},selection:{multiSelect:i},expansion:{expansionTrigger:p},instance:l}=U(),s=x.useContext(G),o=jn({props:t,name:"MuiTreeItem"}),{children:a,className:u,slots:g,slotProps:m,ContentComponent:I=ut,ContentProps:h,itemId:b,id:E,label:M,onClick:C,onMouseDown:S,onBlur:v,onKeyDown:j}=o,N=F(o,An),{expanded:O,focused:H,selected:X,disabled:z,editing:ue,handleExpansion:ee,handleCancelItemLabelEditing:de,handleSaveItemLabel:pe}=ct(b),{contentRef:me,rootRef:k,propsEnhancers:P}=c(o),te=x.useRef(null),we=x.useRef(null),pt=le(n,k,te),mt=le(h==null?void 0:h.ref,me,we),J={expandIcon:(g==null?void 0:g.expandIcon)??r.slots.expandIcon??Rn,collapseIcon:(g==null?void 0:g.collapseIcon)??r.slots.collapseIcon??kn,endIcon:(g==null?void 0:g.endIcon)??r.slots.endIcon,icon:g==null?void 0:g.icon,groupTransition:g==null?void 0:g.groupTransition},Se=w=>Array.isArray(w)?w.length>0&&w.some(Se):!!w,ne=Se(a),fe=y({},o,{expanded:O,focused:H,selected:X,disabled:z,indentationAtItemLevel:d}),R=Fn(fe),Me=J.groupTransition??void 0,ft=q({elementType:Me,ownerState:{},externalSlotProps:m==null?void 0:m.groupTransition,additionalProps:y({unmountOnExit:!0,in:O,component:"ul",role:"group"},d?{indentationAtItemLevel:!0}:{}),className:R.groupTransition}),It=w=>{p==="iconContainer"&&ee(w)},Ie=O?J.collapseIcon:J.expandIcon,gt=q({elementType:Ie,ownerState:{},externalSlotProps:w=>O?y({},B(r.slotProps.collapseIcon,w),B(m==null?void 0:m.collapseIcon,w)):y({},B(r.slotProps.expandIcon,w),B(m==null?void 0:m.expandIcon,w)),additionalProps:{onClick:It}}),ht=F(gt,On),bt=ne&&Ie?T.jsx(Ie,y({},ht)):null,ge=ne?void 0:J.endIcon,xt=q({elementType:ge,ownerState:{},externalSlotProps:w=>ne?{}:y({},B(r.slotProps.endIcon,w),B(m==null?void 0:m.endIcon,w))}),yt=F(xt,Dn),Tt=ge?T.jsx(ge,y({},yt)):null,he=J.icon,Ct=q({elementType:he,ownerState:{},externalSlotProps:m==null?void 0:m.icon}),Et=F(Ct,Vn),wt=he?T.jsx(he,y({},Et)):null;let be;i?be=X:X&&(be=!0);function St(w){!H&&(!z||f)&&w.currentTarget===w.target&&l.focusItem(w,b)}function Mt(w){var _,W,De,Ve;v==null||v(w),!(ue||w.relatedTarget&&Ce(w.relatedTarget,te.current)&&(w.target&&((W=(_=w.target)==null?void 0:_.dataset)==null?void 0:W.element)==="labelInput"&&Ce(w.target,te.current)||((Ve=(De=w.relatedTarget)==null?void 0:De.dataset)==null?void 0:Ve.element)==="labelInput"))&&l.removeFocusedItem()}const vt=w=>{var _,W;j==null||j(w),((W=(_=w.target)==null?void 0:_.dataset)==null?void 0:W.element)!=="labelInput"&&l.handleItemKeyDown(w,b)},Pt=l.getTreeItemIdAttribute(b,E),Rt=l.canItemBeTabbed(b)?0:-1,re={rootRefObject:te,contentRefObject:we,interactions:{handleSaveItemLabel:pe,handleCancelItemLabelEditing:de}},kt=((Re=P.root)==null?void 0:Re.call(P,y({},re,{externalEventHandlers:Fe(N)})))??{},At=((ke=P.content)==null?void 0:ke.call(P,y({},re,{externalEventHandlers:Fe(h)})))??{},ve=((Ae=P.dragAndDropOverlay)==null?void 0:Ae.call(P,y({},re,{externalEventHandlers:{}})))??{},Pe=((Oe=P.labelInput)==null?void 0:Oe.call(P,y({},re,{externalEventHandlers:{}})))??{};return T.jsx(dt,{itemId:b,children:T.jsxs(Ln,y({className:Be(R.root,u),role:"treeitem","aria-expanded":ne?O:void 0,"aria-selected":be,"aria-disabled":z||void 0,id:Pt,tabIndex:Rt},N,{ownerState:fe,onFocus:St,onBlur:Mt,onKeyDown:vt,ref:pt,style:d?y({},N.style,{"--TreeView-itemDepth":typeof s=="function"?s(b):s}):N.style},kt,{children:[T.jsx($n,y({as:I,classes:{root:R.content,expanded:R.expanded,selected:R.selected,focused:R.focused,disabled:R.disabled,editable:R.editable,editing:R.editing,iconContainer:R.iconContainer,label:R.label,labelInput:R.labelInput,checkbox:R.checkbox},label:M,itemId:b,onClick:C,onMouseDown:S,icon:wt,expansionIcon:bt,displayIcon:Tt,ownerState:fe},h,At,ve.action==null?{}:{dragAndDropOverlayProps:ve},Pe.value==null?{}:{labelInputProps:Pe},{ref:mt})),a&&T.jsx(Nn,y({as:Me},ft,{children:a}))]}))})}),Bn=({team:e,onSave:t,onCancel:n,allowedMenus:r,setAllowedMenus:c})=>{localStorage.getItem("menu-items"),console.log(xe),x.useEffect(()=>{const l=s=>{if(s.key==="menu-items"){const o=JSON.parse(s.newValue);JSON.stringify(o)!==JSON.stringify(r)&&c(o)}};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[r]);const f=()=>{t({...e,authority:r})},d=(l,s)=>{c(o=>{const a=new Set(o),u=(m,I)=>{m.forEach(h=>{I?a.add(h.id):a.delete(h.id),Array.isArray(h.children)&&u(h.children,I)})},g=!a.has(l);return g?a.add(l):a.delete(l),u(s,g),i(l,a),Array.from(a)})},i=(l,s)=>{const o=xe.items.find(a=>a.children&&a.children.some(u=>u.id===l));o&&(o.children.every(u=>s.has(u.id))?s.add(o.id):s.delete(o.id))},p=l=>T.jsx(_n,{nodeid:l.id,itemId:l.id,label:T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx(Xe,{checked:r.includes(l.id),onChange:()=>d(l.id,l.children||[]),size:"small",style:{marginRight:8}}),l.title," "]}),children:Array.isArray(l.children)?l.children.map(p):null},l.id);return T.jsxs("div",{children:[T.jsxs("div",{children:[T.jsx("h2",{children:"Menu Settings"}),T.jsxs(En,{expansionTrigger:"iconContainer",children:[xe.items.map(p)," "]})]}),T.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"}}),T.jsx(Te,{variant:"contained",color:"success",onClick:f,children:"Save"}),T.jsx(Te,{variant:"contained",color:"error",onClick:n,style:{marginLeft:"10px"},children:"Cancel"})]})},Kn=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[c,f]=x.useState(!1),[d,i]=x.useState([]);x.useEffect(()=>{(async()=>{try{const u=await(await fetch("https://backendapi.my.id/api/masterTim/get_tim")).json();u.success&&t(u.data)}catch(a){console.error("Failed to fetch teams:",a)}})()},[]);const p=o=>{r(o),console.log(o,"team"),i(o.authority?o.authority:[]),f(!0)},l=async o=>{console.log("Edited team:",o);try{const u=await(await fetch(`https://backendapi.my.id/api/masterTim/update/${o.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name,authority:JSON.stringify(o.authority)})})).json();u.success?(console.log("Updated team:",o),t(g=>g.map(m=>m.id===o.id?{...m,authority:o.authority}:m)),r(null),f(!1)):console.error("Failed to update team:",u.message)}catch(a){console.error("Error updating team:",a)}},s=[{name:"ID",selector:o=>o.id,sortable:!0},{name:"Name",selector:o=>o.name,sortable:!0},{name:"Actions",cell:o=>T.jsx(Te,{variant:"outlined",onClick:()=>p(o),style:{marginRight:"10px"},startIcon:T.jsx(Kt,{}),children:"Edit"})}];return T.jsxs("div",{children:[T.jsx(Bt,{title:"Teams Data",columns:s,data:e,pagination:!0}),n&&T.jsx(Bn,{team:n,onSave:l,onCancel:()=>r(null),allowedMenus:d,setAllowedMenus:i})]})},Wn=()=>T.jsxs("div",{children:[T.jsx("h1",{children:"Teams Overview"}),T.jsx(Kn,{})]});export{Wn as default};
