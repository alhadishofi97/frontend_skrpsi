import{_ as y,k as ae,f as V,i as G,u as Ot,g as Ne,a as _e,e as x,W as Dt,j as T,X as j,Y as Vt,Z as jt,h as Ft,s as K,m as Be,$ as Lt,o as A,a0 as Ke,P as Fe,a1 as Ue,a2 as $t,a3 as Nt,J as Te}from"./index-CSQcVwAp.js";import{X as _t}from"./index.es-CxZxsqlz.js";import{I as Bt}from"./IconPencil-fOTvrl4N.js";import{C as Xe}from"./Checkbox-BgXExUdD.js";function Kt(e){return typeof e=="string"}function Ut(e,t,n){return e===void 0||Kt(e)?t:y({},t,{ownerState:y({},t.ownerState,n)})}function Ce(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Le(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Xt(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:f}=e;if(!t){const p=ae(n==null?void 0:n.className,f,i==null?void 0:i.className,r==null?void 0:r.className),g=y({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=y({},n,i,r);return p.length>0&&(m.className=p),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const c=Ce(y({},i,r)),s=Le(r),a=Le(i),u=t(c),l=ae(u==null?void 0:u.className,n==null?void 0:n.className,f,i==null?void 0:i.className,r==null?void 0:r.className),o=y({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),d=y({},u,n,a,s);return l.length>0&&(d.className=l),Object.keys(o).length>0&&(d.style=o),{props:d,internalRef:u.ref}}function L(e,t,n){return typeof e=="function"?e(t,n):e}const zt=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function q(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:f=!1}=e,c=V(e,zt),s=f?{}:L(r,i),{props:a,internalRef:u}=Xt(y({},c,{externalSlotProps:s})),l=G(u,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return Ut(n,y({},a,{ref:l}),i)}function ze(e){return Ot}function Jt(e){return _e("MuiSimpleTreeView",e)}Ne("MuiSimpleTreeView",["root"]);const Wt=(e,t)=>{const n=x.useRef({}),[r,i]=x.useState(()=>{const c={};return e.forEach(s=>{s.models&&Object.entries(s.models).forEach(([a,u])=>{n.current[a]={isControlled:t[a]!==void 0,getDefaultValue:u.getDefaultValue},c[a]=u.getDefaultValue(t)})}),c});return Object.fromEntries(Object.entries(n.current).map(([c,s])=>{const a=t[c]??r[c];return[c,{value:a,setControlledValue:u=>{s.isControlled||i(l=>y({},l,{[c]:u}))}}]}))};class qt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),r.isFirst?i.highPriority.set(n,!0):i.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const i=Array.from(r.highPriority.keys()),f=Array.from(r.regular.keys());for(let c=i.length-1;c>=0;c-=1){const s=i[c];r.highPriority.has(s)&&s.apply(this,n)}for(let c=0;c<f.length;c+=1){const s=f[c];r.regular.has(s)&&s.apply(this,n)}}once(t,n){const r=this;this.on(t,function i(...f){r.removeListener(t,i),n.apply(r,f)})}}const Gt=e=>e.isPropagationStopped!==void 0,Je=()=>{const[e]=x.useState(()=>new qt),t=x.useCallback((...r)=>{const[i,f,c={}]=r;c.defaultMuiPrevented=!1,!(Gt(c)&&c.isPropagationStopped())&&e.emit(i,f,c)},[e]),n=x.useCallback((r,i)=>(e.on(r,i),()=>{e.removeListener(r,i)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};Je.params={};const We=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};We.params={};const qe=({params:e})=>{const t=Dt(e.id),n=x.useCallback((r,i)=>i??`${t}-${r}`,[t]);return{getRootProps:()=>({id:t}),instance:{getTreeItemIdAttribute:n}}};qe.params={id:!0};const Zt=[Je,We,qe],Yt=["slots","slotProps","apiRef","experimentalFeatures"],Qt=e=>{let{props:{slots:t,slotProps:n,apiRef:r,experimentalFeatures:i},plugins:f}=e,c=V(e.props,Yt);const s={};f.forEach(o=>{Object.assign(s,o.params)});const a={},u={};Object.keys(c).forEach(o=>{const d=c[o];s[o]?a[o]=d:u[o]=d});const l=f.reduce((o,d)=>d.getDefaultizedParams?d.getDefaultizedParams(o):o,a);return{apiRef:r,forwardedProps:u,pluginParams:l,slots:t??{},slotProps:n??{},experimentalFeatures:i??{}}},Ht=({plugins:e,instance:t,publicAPI:n,rootRef:r})=>({runItemPlugins:s=>{let a=null,u=null;const l=[],o={};e.forEach(g=>{if(!g.itemPlugin)return;const m=g.itemPlugin({props:s,rootRef:a,contentRef:u});m!=null&&m.rootRef&&(a=m.rootRef),m!=null&&m.contentRef&&(u=m.contentRef),m!=null&&m.propsEnhancers&&(l.push(m.propsEnhancers),Object.keys(m.propsEnhancers).forEach(I=>{o[I]=!0}))});const d=g=>m=>{const I={};return l.forEach(h=>{const b=h[g];b!=null&&Object.assign(I,b(m))}),I},p=Object.fromEntries(Object.keys(o).map(g=>[g,d(g)]));return{contentRef:u,rootRef:a,propsEnhancers:p}},wrapItem:({itemId:s,children:a})=>{let u=a;for(let l=e.length-1;l>=0;l-=1){const o=e[l];o.wrapItem&&(u=o.wrapItem({itemId:s,children:u,instance:t}))}return u},wrapRoot:({children:s})=>{let a=s;for(let u=e.length-1;u>=0;u-=1){const l=e[u];l.wrapRoot&&(a=l.wrapRoot({children:a,instance:t}))}return a},instance:t,rootRef:r,publicAPI:n});function en(e){const t=x.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const tn=({plugins:e,rootRef:t,props:n})=>{const r=[...Zt,...e],{pluginParams:i,forwardedProps:f,apiRef:c,experimentalFeatures:s,slots:a,slotProps:u}=Qt({plugins:r,props:n}),l=Wt(r,i),d=x.useRef({}).current,p=en(c),g=x.useRef(null),m=G(g,t),I=Ht({plugins:r,instance:d,publicAPI:p,rootRef:g}),[h,b]=x.useState(()=>{const v={};return r.forEach(M=>{M.getInitialState&&Object.assign(v,M.getInitialState(i))}),v}),E=[],S=v=>{const M=v({instance:d,params:i,slots:a,slotProps:u,experimentalFeatures:s,state:h,setState:b,rootRef:g,models:l,plugins:r});M.getRootProps&&E.push(M.getRootProps),M.publicAPI&&Object.assign(p,M.publicAPI),M.instance&&Object.assign(d,M.instance),M.contextValue&&Object.assign(I,M.contextValue)};return r.forEach(S),{getRootProps:(v={})=>{const M=y({role:"tree"},f,v,{ref:m});return E.forEach(F=>{Object.assign(M,F(v))}),M},rootRef:m,contextValue:I,instance:d}},Ge=x.createContext(null);function nn(e){const{value:t,children:n}=e;return T.jsx(Ge.Provider,{value:t,children:t.wrapRoot({children:n})})}const U=()=>{const e=x.useContext(Ge);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},Ze=(e,t,n)=>{e.$$publishEvent(t,n)},$="__TREE_VIEW_ROOT_PARENT_ID__",Ye=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},Z=x.createContext(()=>-1),rn=["children"],Qe=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:r})=>{const i={},f={},c={[$]:[]},s=(u,l,o)=>{var m,I;const d=r?r(u):u.id;if(d==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(u)].join(`
`));if(i[d]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${d}"`].join(`
`));const p=n?n(u):u.label;if(p==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(u)].join(`
`));i[d]={id:d,label:p,parentId:o,idAttribute:void 0,expandable:!!((m=u.children)!=null&&m.length),disabled:t?t(u):!1,depth:l},f[d]=u;const g=o??$;c[g]||(c[g]=[]),c[g].push(d),(I=u.children)==null||I.forEach(h=>s(h,l+1,d))};e.forEach(u=>s(u,0,null));const a={};return Object.keys(c).forEach(u=>{a[u]=Ye(c[u])}),{itemMetaMap:i,itemMap:f,itemOrderedChildrenIds:c,itemChildrenIndexes:a}},Q=({instance:e,params:t,state:n,setState:r,experimentalFeatures:i})=>{const f=x.useCallback(h=>n.items.itemMetaMap[h],[n.items.itemMetaMap]),c=x.useCallback(h=>n.items.itemMap[h],[n.items.itemMap]),s=x.useCallback(()=>{const h=b=>{const E=n.items.itemMap[b],S=V(E,rn),C=n.items.itemOrderedChildrenIds[b];return C&&(S.children=C.map(h)),S};return n.items.itemOrderedChildrenIds[$].map(h)},[n.items.itemMap,n.items.itemOrderedChildrenIds]),a=x.useCallback(h=>{if(h==null)return!1;let b=e.getItemMeta(h);if(!b)return!1;if(b.disabled)return!0;for(;b.parentId!=null;)if(b=e.getItemMeta(b.parentId),b.disabled)return!0;return!1},[e]),u=x.useCallback(h=>{const b=e.getItemMeta(h).parentId??$;return n.items.itemChildrenIndexes[b][h]},[e,n.items.itemChildrenIndexes]),l=x.useCallback(h=>n.items.itemOrderedChildrenIds[h??$]??[],[n.items.itemOrderedChildrenIds]),o=h=>{const b=e.getItemMeta(h);return b==null?null:document.getElementById(e.getTreeItemIdAttribute(h,b.idAttribute))},d=h=>t.disabledItemsFocusable?!0:!e.isItemDisabled(h),p=x.useRef(!1),g=x.useCallback(()=>{p.current=!0},[]),m=x.useCallback(()=>p.current,[]);return x.useEffect(()=>{e.areItemUpdatesPrevented()||r(h=>{const b=Qe({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(h.items.itemMetaMap).forEach(E=>{b.itemMetaMap[E.id]||Ze(e,"removeItem",{id:E.id})}),y({},h,{items:b})})},[e,r,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:c,getItemDOMElement:o,getItemTree:s,getItemOrderedChildrenIds:l},instance:{getItemMeta:f,getItem:c,getItemTree:s,getItemsToRender:()=>{const h=b=>{var S;const E=n.items.itemMetaMap[b];return{label:E.label,itemId:E.id,id:E.idAttribute,children:(S=n.items.itemOrderedChildrenIds[b])==null?void 0:S.map(h)}};return n.items.itemOrderedChildrenIds[$].map(h)},getItemIndex:u,getItemDOMElement:o,getItemOrderedChildrenIds:l,isItemDisabled:a,isItemNavigable:d,preventItemUpdates:g,areItemUpdatesPrevented:m},contextValue:{items:{onItemClick:t.onItemClick,disabledItemsFocusable:t.disabledItemsFocusable,indentationAtItemLevel:i.indentationAtItemLevel??!1}}}};Q.getInitialState=e=>({items:Qe({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});Q.getDefaultizedParams=e=>y({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});Q.wrapRoot=({children:e,instance:t})=>T.jsx(Z.Provider,{value:n=>{var r;return((r=t.getItemMeta(n))==null?void 0:r.depth)??0},children:e});Q.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const ce=({instance:e,params:t,models:n})=>{const r=x.useMemo(()=>{const o=new Map;return n.expandedItems.value.forEach(d=>{o.set(d,!0)}),o},[n.expandedItems.value]),i=(o,d)=>{var p;(p=t.onExpandedItemsChange)==null||p.call(t,o,d),n.expandedItems.setControlledValue(d)},f=x.useCallback(o=>r.has(o),[r]),c=x.useCallback(o=>{var d;return!!((d=e.getItemMeta(o))!=null&&d.expandable)},[e]),s=j((o,d)=>{const p=e.isItemExpanded(d);e.setItemExpansion(o,d,!p)}),a=j((o,d,p)=>{if(e.isItemExpanded(d)===p)return;let m;p?m=[d].concat(n.expandedItems.value):m=n.expandedItems.value.filter(I=>I!==d),t.onItemExpansionToggle&&t.onItemExpansionToggle(o,d,p),i(o,m)}),u=(o,d)=>{const p=e.getItemMeta(d),m=e.getItemOrderedChildrenIds(p.parentId).filter(h=>e.isItemExpandable(h)&&!e.isItemExpanded(h)),I=n.expandedItems.value.concat(m);m.length>0&&(t.onItemExpansionToggle&&m.forEach(h=>{t.onItemExpansionToggle(o,h,!0)}),i(o,I))},l=x.useMemo(()=>t.expansionTrigger?t.expansionTrigger:e.isTreeViewEditable?"iconContainer":"content",[t.expansionTrigger,e.isTreeViewEditable]);return{publicAPI:{setItemExpansion:a},instance:{isItemExpanded:f,isItemExpandable:c,setItemExpansion:a,toggleItemExpansion:s,expandAllSiblings:u},contextValue:{expansion:{expansionTrigger:l}}}};ce.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const on=[];ce.getDefaultizedParams=e=>y({},e,{defaultExpandedItems:e.defaultExpandedItems??on});ce.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const He=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},et=(e,t)=>{const n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),i=e.getItemIndex(t);if(i===0)return n.parentId;let f=i-1;for(;!e.isItemNavigable(r[f])&&f>=0;)f-=1;if(f===-1)return n.parentId==null?null:et(e,n.parentId);let c=r[f],s=He(e,e.getItemOrderedChildrenIds(c));for(;e.isItemExpanded(c)&&s!=null;)c=s,s=e.getItemOrderedChildrenIds(c).find(e.isItemNavigable);return c},se=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(r!=null)return r}let n=e.getItemMeta(t);for(;n!=null;){const r=e.getItemOrderedChildrenIds(n.parentId),i=e.getItemIndex(n.id);if(i<r.length-1){let f=i+1;for(;!e.isItemNavigable(r[f])&&f<r.length-1;)f+=1;if(e.isItemNavigable(r[f]))return r[f]}n=e.getItemMeta(n.parentId)}return null},tt=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),r=He(e,n);if(r==null)return t;t=r}return t},Y=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),nt=(e,t,n)=>{if(t===n)return[t,n];const r=e.getItemMeta(t),i=e.getItemMeta(n);if(r.parentId===i.id||i.parentId===r.id)return i.parentId===r.id?[r.id,i.id]:[i.id,r.id];const f=[r.id],c=[i.id];let s=r.parentId,a=i.parentId,u=c.indexOf(s)!==-1,l=f.indexOf(a)!==-1,o=!0,d=!0;for(;!l&&!u;)o&&(f.push(s),u=c.indexOf(s)!==-1,o=s!==null,!u&&o&&(s=e.getItemMeta(s).parentId)),d&&!u&&(c.push(a),l=f.indexOf(a)!==-1,d=a!==null,!l&&d&&(a=e.getItemMeta(a).parentId));const p=u?s:a,g=e.getItemOrderedChildrenIds(p),m=f[f.indexOf(p)-1],I=c[c.indexOf(p)-1];return g.indexOf(m)<g.indexOf(I)?[t,n]:[n,t]},sn=(e,t,n)=>{const r=a=>{if(e.isItemExpandable(a)&&e.isItemExpanded(a))return e.getItemOrderedChildrenIds(a)[0];let u=e.getItemMeta(a);for(;u!=null;){const l=e.getItemOrderedChildrenIds(u.parentId),o=e.getItemIndex(u.id);if(o<l.length-1)return l[o+1];u=e.getItemMeta(u.parentId)}throw new Error("Invalid range")},[i,f]=nt(e,t,n),c=[i];let s=i;for(;s!==f;)s=r(s),e.isItemDisabled(s)||c.push(s);return c},ln=e=>{let t=Y(e);const n=[];for(;t!=null;)n.push(t),t=se(e,t);return n},Ee=(e,t)=>t!==e.closest('*[role="treeitem"]'),le=e=>Array.isArray(e)?e:e!=null?[e]:[],ye=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},ue=({instance:e,params:t,models:n})=>{const r=x.useRef(null),i=x.useRef({}),f=x.useMemo(()=>{const m=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(I=>{m.set(I,!0)}):n.selectedItems.value!=null&&m.set(n.selectedItems.value,!0),m},[n.selectedItems.value]),c=(m,I)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const h=I.filter(E=>!e.isItemSelected(E)),b=n.selectedItems.value.filter(E=>!I.includes(E));h.forEach(E=>{t.onItemSelectionToggle(m,E,!0)}),b.forEach(E=>{t.onItemSelectionToggle(m,E,!1)})}else I!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(m,n.selectedItems.value,!1),I!=null&&t.onItemSelectionToggle(m,I,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(m,I),n.selectedItems.setControlledValue(I)},s=m=>f.has(m),a=({event:m,itemId:I,keepExistingSelection:h=!1,shouldBeSelected:b})=>{if(t.disableSelection)return;let E;if(h){const S=le(n.selectedItems.value),C=e.isItemSelected(I);C&&(b===!1||b==null)?E=S.filter(v=>v!==I):!C&&(b===!0||b==null)?E=[I].concat(S):E=S}else b===!1||b==null&&e.isItemSelected(I)?E=t.multiSelect?[]:null:E=t.multiSelect?[I]:I;c(m,E),r.current=I,i.current={}},u=(m,[I,h])=>{if(t.disableSelection||!t.multiSelect)return;let b=le(n.selectedItems.value).slice();Object.keys(i.current).length>0&&(b=b.filter(v=>!i.current[v]));const E=ye(b),S=sn(e,I,h),C=S.filter(v=>!E[v]);b=b.concat(C),c(m,b),i.current=ye(S)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{selectItem:a},instance:{isItemSelected:s,selectItem:a,selectAllNavigableItems:m=>{if(t.disableSelection||!t.multiSelect)return;const I=ln(e);c(m,I),i.current=ye(I)},expandSelectionRange:(m,I)=>{if(r.current!=null){const[h,b]=nt(e,I,r.current);u(m,[h,b])}},selectRangeFromStartToItem:(m,I)=>{u(m,[Y(e),I])},selectRangeFromItemToEnd:(m,I)=>{u(m,[I,tt(e)])},selectItemFromArrowNavigation:(m,I,h)=>{if(t.disableSelection||!t.multiSelect)return;let b=le(n.selectedItems.value).slice();Object.keys(i.current).length===0?(b.push(h),i.current={[I]:!0,[h]:!0}):(i.current[I]||(i.current={}),i.current[h]?(b=b.filter(E=>E!==I),delete i.current[I]):(b.push(h),i.current[h]=!0)),c(m,b)}},contextValue:{selection:{multiSelect:t.multiSelect,checkboxSelection:t.checkboxSelection,disableSelection:t.disableSelection}}}};ue.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const an=[];ue.getDefaultizedParams=e=>y({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?an:null)});ue.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const $e=1e3;class cn{constructor(t=$e){this.timeouts=new Map,this.cleanupTimeout=$e,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class un{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class dn{}function pn(e){let t=0;return function(r,i,f){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new un:new cn);const[c]=x.useState(new dn),s=x.useRef(null),a=x.useRef();a.current=f;const u=x.useRef(null);if(!s.current&&a.current){const l=(o,d)=>{var p;d.defaultMuiPrevented||(p=a.current)==null||p.call(a,o,d)};s.current=r.$$subscribeEvent(i,l),t+=1,u.current={cleanupToken:t},e.registry.register(c,()=>{var o;(o=s.current)==null||o.call(s),s.current=null,u.current=null},u.current)}else!a.current&&s.current&&(s.current(),s.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));x.useEffect(()=>{if(!s.current&&a.current){const l=(o,d)=>{var p;d.defaultMuiPrevented||(p=a.current)==null||p.call(a,o,d)};s.current=r.$$subscribeEvent(i,l)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{var l;(l=s.current)==null||l.call(s),s.current=null}},[r,i])}}const mn={registry:null},fn=pn(mn),rt=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?rt(t.shadowRoot):t:null};function In(e){return e.replace(/["\\]/g,"\\$&")}const gn=(e,t)=>{let n=le(t).find(r=>{if(!e.isItemNavigable(r))return!1;const i=e.getItemMeta(r);return i&&(i.parentId==null||e.isItemExpanded(i.parentId))});return n==null&&(n=Y(e)),n},we=({instance:e,params:t,state:n,setState:r,models:i,rootRef:f})=>{const c=gn(e,i.selectedItems.value),s=j(I=>{const h=typeof I=="function"?I(n.focusedItemId):I;n.focusedItemId!==h&&r(b=>y({},b,{focusedItemId:h}))}),a=x.useCallback(()=>!!f.current&&f.current.contains(rt(Vt(f.current))),[f]),u=x.useCallback(I=>n.focusedItemId===I&&a(),[n.focusedItemId,a]),l=I=>{const h=e.getItemMeta(I);return h&&(h.parentId==null||e.isItemExpanded(h.parentId))},o=(I,h)=>{const b=e.getItemDOMElement(h);b&&b.focus(),s(h),t.onItemFocus&&t.onItemFocus(I,h)},d=j((I,h)=>{l(h)&&o(I,h)}),p=j(()=>{if(n.focusedItemId==null)return;const I=e.getItemMeta(n.focusedItemId);if(I){const h=document.getElementById(e.getTreeItemIdAttribute(n.focusedItemId,I.idAttribute));h&&h.blur()}s(null)}),g=I=>I===c;fn(e,"removeItem",({id:I})=>{n.focusedItemId===I&&o(null,c)});const m=I=>h=>{var b;(b=I.onFocus)==null||b.call(I,h),!h.defaultMuiPrevented&&h.target===h.currentTarget&&o(h,c)};return{getRootProps:I=>({onFocus:m(I)}),publicAPI:{focusItem:d},instance:{isItemFocused:u,canItemBeTabbed:g,focusItem:d,removeFocusedItem:p}}};we.getInitialState=()=>({focusedItemId:null});we.params={onItemFocus:!0};const ie=(e,t)=>e.getAvailablePlugins().has(t),hn=({props:e})=>{const{instance:t}=U(),{label:n,itemId:r}=e,[i,f]=x.useState(n),c=t.isItemBeingEdited(r);return x.useEffect(()=>{c||f(n)},[c,n]),{propsEnhancers:{labelInput:({externalEventHandlers:s,interactions:a})=>t.isItemEditable(r)?{value:i??"","data-element":"labelInput",onChange:p=>{var g;(g=s.onChange)==null||g.call(s,p),f(p.target.value)},onKeyDown:p=>{var m;if((m=s.onKeyDown)==null||m.call(s,p),p.defaultMuiPrevented)return;const g=p.target;p.key==="Enter"&&g.value?a.handleSaveItemLabel(p,g.value):p.key==="Escape"&&a.handleCancelItemLabelEditing(p)},onBlur:p=>{var g;(g=s.onBlur)==null||g.call(s,p),!p.defaultMuiPrevented&&p.target.value&&a.handleSaveItemLabel(p,p.target.value)},autoFocus:!0,type:"text"}:{}}}},N=({instance:e,state:t,setState:n,params:r,experimentalFeatures:i})=>{const f=x.useRef(t.editedItemId),c=d=>f.current===d,s=d=>{n(p=>y({},p,{editedItemId:d})),f.current=d},a=d=>d===t.editedItemId,u=!!r.isItemEditable&&!!i.labelEditing,l=d=>{if(d==null||!u)return!1;const p=e.getItem(d);return p?typeof r.isItemEditable=="function"?r.isItemEditable(p):!!r.isItemEditable:!1},o=(d,p)=>{if(!p)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",d].join(`
`));n(g=>{const m=g.items.itemMetaMap[d];return m.label!==p?y({},g,{items:y({},g.items,{itemMetaMap:y({},g.items.itemMetaMap,{[d]:y({},m,{label:p})})})}):g}),r.onItemLabelChange&&r.onItemLabelChange(d,p)};return{instance:{setEditedItemId:s,isItemBeingEdited:a,updateItemLabel:o,isItemEditable:l,isTreeViewEditable:u,isItemBeingEditedRef:c},publicAPI:{updateItemLabel:o}}};N.itemPlugin=hn;N.getInitialState=()=>({editedItemId:null});N.params={onItemLabelChange:!0,isItemEditable:!0};function bn(e){return!!e&&e.length===1&&!!e.match(/\S/)}const ot=({instance:e,params:t,state:n})=>{const r=jt(),i=x.useRef({}),f=j(l=>{i.current=l(i.current)});x.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const l={},o=d=>{l[d.id]=d.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(o),i.current=l},[n.items.itemMetaMap,t.getItemId,e]);const c=(l,o)=>{const d=o.toLowerCase(),p=h=>{const b=se(e,h);return b===null?Y(e):b};let g=null,m=p(l);const I={};for(;g==null&&!I[m];)i.current[m]===d?g=m:(I[m]=!0,m=p(m));return g},s=l=>!t.disableSelection&&!e.isItemDisabled(l),a=l=>!e.isItemDisabled(l)&&e.isItemExpandable(l);return{instance:{updateFirstCharMap:f,handleItemKeyDown:(l,o)=>{if(l.defaultMuiPrevented||l.altKey||Ee(l.target,l.currentTarget))return;const d=l.ctrlKey||l.metaKey,p=l.key;switch(!0){case(p===" "&&s(o)):{l.preventDefault(),t.multiSelect&&l.shiftKey?e.expandSelectionRange(l,o):e.selectItem({event:l,itemId:o,keepExistingSelection:t.multiSelect,shouldBeSelected:t.multiSelect?void 0:!0});break}case p==="Enter":{ie(e,N)&&e.isItemEditable(o)&&!e.isItemBeingEdited(o)?e.setEditedItemId(o):a(o)?(e.toggleItemExpansion(l,o),l.preventDefault()):s(o)&&(t.multiSelect?(l.preventDefault(),e.selectItem({event:l,itemId:o,keepExistingSelection:!0})):e.isItemSelected(o)||(e.selectItem({event:l,itemId:o}),l.preventDefault()));break}case p==="ArrowDown":{const g=se(e,o);g&&(l.preventDefault(),e.focusItem(l,g),t.multiSelect&&l.shiftKey&&s(g)&&e.selectItemFromArrowNavigation(l,o,g));break}case p==="ArrowUp":{const g=et(e,o);g&&(l.preventDefault(),e.focusItem(l,g),t.multiSelect&&l.shiftKey&&s(g)&&e.selectItemFromArrowNavigation(l,o,g));break}case(p==="ArrowRight"&&!r||p==="ArrowLeft"&&r):{if(e.isItemExpanded(o)){const g=se(e,o);g&&(e.focusItem(l,g),l.preventDefault())}else a(o)&&(e.toggleItemExpansion(l,o),l.preventDefault());break}case(p==="ArrowLeft"&&!r||p==="ArrowRight"&&r):{if(a(o)&&e.isItemExpanded(o))e.toggleItemExpansion(l,o),l.preventDefault();else{const g=e.getItemMeta(o).parentId;g&&(e.focusItem(l,g),l.preventDefault())}break}case p==="Home":{s(o)&&t.multiSelect&&d&&l.shiftKey?e.selectRangeFromStartToItem(l,o):e.focusItem(l,Y(e)),l.preventDefault();break}case p==="End":{s(o)&&t.multiSelect&&d&&l.shiftKey?e.selectRangeFromItemToEnd(l,o):e.focusItem(l,tt(e)),l.preventDefault();break}case p==="*":{e.expandAllSiblings(l,o),l.preventDefault();break}case(p==="a"&&d&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(l),l.preventDefault();break}case(!d&&!l.shiftKey&&bn(p)):{const g=c(o,p);g!=null&&(e.focusItem(l,g),l.preventDefault());break}}}}}};ot.params={};const st=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});st.params={};const lt=x.createContext(null);function it(e){const{children:t,itemId:n=null}=e,{instance:r,rootRef:i}=U(),f=x.useRef(new Map);x.useEffect(()=>{if(!i.current)return;let s=null;if(n==null)s=i.current.id;else{const p=r.getItemMeta(n);p!==void 0&&(s=r.getTreeItemIdAttribute(n,p.idAttribute))}if(s==null)return;const a=r.getItemOrderedChildrenIds(n??null)??[],u=In(s),l=i.current.querySelectorAll(`${n==null?"":`*[id="${u}"] `}[role="treeitem"]:not(*[id="${u}"] [role="treeitem"] [role="treeitem"])`),o=Array.from(l).map(p=>f.current.get(p.id));(o.length!==a.length||o.some((p,g)=>p!==a[g]))&&r.setJSXItemsOrderedChildrenIds(n??null,o)});const c=x.useMemo(()=>({registerChild:(s,a)=>f.current.set(s,a),unregisterChild:s=>f.current.delete(s),parentId:n}),[n]);return T.jsx(lt.Provider,{value:c,children:t})}const H=({instance:e,setState:t})=>{e.preventItemUpdates();const n=j(f=>(t(c=>{if(c.items.itemMetaMap[f.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${f.id}"`].join(`
`));return y({},c,{items:y({},c.items,{itemMetaMap:y({},c.items.itemMetaMap,{[f.id]:f}),itemMap:y({},c.items.itemMap,{[f.id]:{id:f.id,label:f.label}})})})}),()=>{t(c=>{const s=y({},c.items.itemMetaMap),a=y({},c.items.itemMap);return delete s[f.id],delete a[f.id],y({},c,{items:y({},c.items,{itemMetaMap:s,itemMap:a})})}),Ze(e,"removeItem",{id:f.id})})),r=(f,c)=>{const s=f??$;t(a=>y({},a,{items:y({},a.items,{itemOrderedChildrenIds:y({},a.items.itemOrderedChildrenIds,{[s]:c}),itemChildrenIndexes:y({},a.items.itemChildrenIndexes,{[s]:Ye(c)})})}))},i=j((f,c)=>(e.updateFirstCharMap(s=>(s[f]=c,s)),()=>{e.updateFirstCharMap(s=>{const a=y({},s);return delete a[f],a})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:i}}},at=e=>Array.isArray(e)?e.length>0&&e.some(at):!!e,xn=({props:e,rootRef:t,contentRef:n})=>{const{instance:r}=U(),{children:i,disabled:f=!1,label:c,itemId:s,id:a}=e,u=x.useContext(lt);if(u==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:l,unregisterChild:o,parentId:d}=u,p=at(i),g=x.useRef(null),m=G(g,n);return Ft(()=>{const I=r.getTreeItemIdAttribute(s,a);return l(I,s),()=>{o(I)}},[r,l,o,s,a]),x.useEffect(()=>r.insertJSXItem({id:s,idAttribute:a,parentId:d,expandable:p,disabled:f}),[r,d,s,p,f,a]),x.useEffect(()=>{var I;if(c)return r.mapFirstCharFromJSX(s,(((I=g.current)==null?void 0:I.textContent)??"").substring(0,1).toLowerCase())},[r,s,c]),{contentRef:m,rootRef:t}};H.itemPlugin=xn;H.wrapItem=({children:e,itemId:t})=>{const n=x.useContext(Z);return T.jsx(it,{itemId:t,children:T.jsx(Z.Provider,{value:n+1,children:e})})};H.wrapRoot=({children:e})=>T.jsx(it,{children:T.jsx(Z.Provider,{value:0,children:e})});H.params={};const yn=[Q,ce,ue,we,ot,st,H],Tn=ze(),Cn=e=>{const{classes:t}=e;return Be({root:["root"]},Jt,t)},En=K("ul",{name:"MuiSimpleTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),wn=[],vn=x.forwardRef(function(t,n){const r=Tn({props:t,name:"MuiSimpleTreeView"}),i=r,{getRootProps:f,contextValue:c}=tn({plugins:yn,rootRef:n,props:y({},r,{items:wn})}),{slots:s,slotProps:a}=r,u=Cn(r),l=(s==null?void 0:s.root)??En,o=q({elementType:l,externalSlotProps:a==null?void 0:a.root,className:u.root,getSlotProps:f,ownerState:i});return T.jsx(nn,{value:c,children:T.jsx(l,y({},o))})});function ct(e){const{instance:t,items:{onItemClick:n},selection:{multiSelect:r,checkboxSelection:i,disableSelection:f},expansion:{expansionTrigger:c}}=U(),s=t.isItemExpandable(e),a=t.isItemExpanded(e),u=t.isItemFocused(e),l=t.isItemSelected(e),o=t.isItemDisabled(e),d=t!=null&&t.isItemBeingEdited?t==null?void 0:t.isItemBeingEdited(e):!1,p=t.isItemEditable?t.isItemEditable(e):!1,g=C=>{if(!o){u||t.focusItem(C,e);const v=r&&(C.shiftKey||C.ctrlKey||C.metaKey);s&&!(v&&t.isItemExpanded(e))&&t.toggleItemExpansion(C,e)}},m=C=>{o||(u||t.focusItem(C,e),r&&(C.shiftKey||C.ctrlKey||C.metaKey)?C.shiftKey?t.expandSelectionRange(C,e):t.selectItem({event:C,itemId:e,keepExistingSelection:!0}):t.selectItem({event:C,itemId:e,shouldBeSelected:!0}))},I=C=>{if(f||o)return;const v=C.nativeEvent.shiftKey;r&&v?t.expandSelectionRange(C,e):t.selectItem({event:C,itemId:e,keepExistingSelection:r,shouldBeSelected:C.target.checked})},h=C=>{(C.shiftKey||C.ctrlKey||C.metaKey||o)&&C.preventDefault()},b=()=>{ie(t,N)&&t.isItemEditable(e)&&(t.isItemBeingEdited(e)?t.setEditedItemId(null):t.setEditedItemId(e))};return{disabled:o,expanded:a,selected:l,focused:u,editable:p,editing:d,disableSelection:f,checkboxSelection:i,handleExpansion:g,handleSelection:m,handleCheckboxSelection:I,handleContentClick:n,preventSelection:h,expansionTrigger:c,toggleItemEditing:b,handleSaveItemLabel:(C,v)=>{ie(t,N)&&t.isItemBeingEditedRef(e)&&(t.updateItemLabel(e,v),b(),t.focusItem(C,e))},handleCancelItemLabelEditing:C=>{ie(t,N)&&t.isItemBeingEditedRef(e)&&(b(),t.focusItem(C,e))}}}const Sn=K("div",{name:"MuiTreeItem2DragAndDropOverlay",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Lt(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:A((e.vars||e).palette.primary.dark,.15)}},{props:{action:"reorder-above"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderTopColor:A((e.vars||e).palette.grey[100],.6)}))},{props:{action:"reorder-below"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderBottomColor:A((e.vars||e).palette.grey[100],.6)}))},{props:{action:"move-to-parent"},style:y({marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${A((e.vars||e).palette.grey[900],.6)}`},e.applyStyles("dark",{borderBottomColor:A((e.vars||e).palette.grey[900],.6)}))}]}));function Mn(e){return e.action==null?null:T.jsx(Sn,y({},e))}const Pn=K("input",{name:"MuiTreeItem2",slot:"LabelInput",overridesResolver:(e,t)=>t.labelInput})(({theme:e})=>y({},e.typography.body1,{width:"100%",backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${e.palette.primary.main}`}})),Rn=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown","dragAndDropOverlayProps","labelInputProps"],ut=x.forwardRef(function(t,n){const{classes:r,className:i,displayIcon:f,expansionIcon:c,icon:s,label:a,itemId:u,onClick:l,onMouseDown:o,dragAndDropOverlayProps:d,labelInputProps:p}=t,g=V(t,Rn),{disabled:m,expanded:I,selected:h,focused:b,editing:E,editable:S,disableSelection:C,checkboxSelection:v,handleExpansion:M,handleSelection:F,handleCheckboxSelection:_,handleContentClick:O,preventSelection:ee,expansionTrigger:X,toggleItemEditing:z}=ct(u),de=s||c||f,te=x.useRef(null),pe=k=>{ee(k),o&&o(k)},me=k=>{var P;O==null||O(k,u),!((P=te.current)!=null&&P.contains(k.target))&&(X==="content"&&M(k),v||F(k),l&&l(k))},fe=k=>{k.defaultMuiPrevented||z()};return T.jsxs("div",y({},g,{className:ae(i,r.root,I&&r.expanded,h&&r.selected,b&&r.focused,m&&r.disabled,E&&r.editing,S&&r.editable),onClick:me,onMouseDown:pe,ref:n,children:[T.jsx("div",{className:r.iconContainer,children:de}),v&&T.jsx(Xe,{className:r.checkbox,checked:h,onChange:_,disabled:m||C,ref:te,tabIndex:-1}),E?T.jsx(Pn,y({},p,{className:r.labelInput})):T.jsx("div",y({className:r.label},S&&{onDoubleClick:fe},{children:a})),d&&T.jsx(Mn,y({},d))]}))});function kn(e){return _e("MuiTreeItem",e)}const D=Ne("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label","checkbox","labelInput","editable","editing","dragAndDropOverlay"]),An=Ke(T.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),On=Ke(T.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function dt(e){const{children:t,itemId:n}=e,{wrapItem:r,instance:i}=U();return r({children:t,itemId:n,instance:i})}dt.propTypes={children:Fe.node,itemId:Fe.string.isRequired};const Dn=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],Vn=["ownerState"],jn=["ownerState"],Fn=["ownerState"],Ln=ze(),$n=e=>{const{classes:t}=e;return Be({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],labelInput:["labelInput"],editing:["editing"],editable:["editable"],groupTransition:["groupTransition"]},kn,t)},Nn=K("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),_n=K(ut,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${D.iconContainer}`]:t.iconContainer},t.label&&{[`& .${D.label}`]:t.label}],shouldForwardProp:e=>Ue(e)&&e!=="indentationAtItemLevel"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${D.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:A(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${D.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:A(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${D.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${D.label}`]:y({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1),[`& .${D.checkbox}`]:{padding:0},variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`}}]})),Bn=K($t,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition,shouldForwardProp:e=>Ue(e)&&e!=="indentationAtItemLevel"})({margin:0,padding:0,paddingLeft:"var(--TreeView-itemChildrenIndentation)",variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:0}}]}),Kn=x.forwardRef(function(t,n){var ke,Ae,Oe,De;const{icons:r,runItemPlugins:i,items:{disabledItemsFocusable:f,indentationAtItemLevel:c},selection:{multiSelect:s},expansion:{expansionTrigger:a},instance:u}=U(),l=x.useContext(Z),o=Ln({props:t,name:"MuiTreeItem"}),{children:d,className:p,slots:g,slotProps:m,ContentComponent:I=ut,ContentProps:h,itemId:b,id:E,label:S,onClick:C,onMouseDown:v,onBlur:M,onKeyDown:F}=o,_=V(o,Dn),{expanded:O,focused:ee,selected:X,disabled:z,editing:de,handleExpansion:te,handleCancelItemLabelEditing:pe,handleSaveItemLabel:me}=ct(b),{contentRef:fe,rootRef:k,propsEnhancers:P}=i(o),ne=x.useRef(null),ve=x.useRef(null),pt=G(n,k,ne),mt=G(h==null?void 0:h.ref,fe,ve),J={expandIcon:(g==null?void 0:g.expandIcon)??r.slots.expandIcon??An,collapseIcon:(g==null?void 0:g.collapseIcon)??r.slots.collapseIcon??On,endIcon:(g==null?void 0:g.endIcon)??r.slots.endIcon,icon:g==null?void 0:g.icon,groupTransition:g==null?void 0:g.groupTransition},Se=w=>Array.isArray(w)?w.length>0&&w.some(Se):!!w,re=Se(d),Ie=y({},o,{expanded:O,focused:ee,selected:X,disabled:z,indentationAtItemLevel:c}),R=$n(Ie),Me=J.groupTransition??void 0,ft=q({elementType:Me,ownerState:{},externalSlotProps:m==null?void 0:m.groupTransition,additionalProps:y({unmountOnExit:!0,in:O,component:"ul",role:"group"},c?{indentationAtItemLevel:!0}:{}),className:R.groupTransition}),It=w=>{a==="iconContainer"&&te(w)},ge=O?J.collapseIcon:J.expandIcon,gt=q({elementType:ge,ownerState:{},externalSlotProps:w=>O?y({},L(r.slotProps.collapseIcon,w),L(m==null?void 0:m.collapseIcon,w)):y({},L(r.slotProps.expandIcon,w),L(m==null?void 0:m.expandIcon,w)),additionalProps:{onClick:It}}),ht=V(gt,Vn),bt=re&&ge?T.jsx(ge,y({},ht)):null,he=re?void 0:J.endIcon,xt=q({elementType:he,ownerState:{},externalSlotProps:w=>re?{}:y({},L(r.slotProps.endIcon,w),L(m==null?void 0:m.endIcon,w))}),yt=V(xt,jn),Tt=he?T.jsx(he,y({},yt)):null,be=J.icon,Ct=q({elementType:be,ownerState:{},externalSlotProps:m==null?void 0:m.icon}),Et=V(Ct,Fn),wt=be?T.jsx(be,y({},Et)):null;let xe;s?xe=X:X&&(xe=!0);function vt(w){!ee&&(!z||f)&&w.currentTarget===w.target&&u.focusItem(w,b)}function St(w){var B,W,Ve,je;M==null||M(w),!(de||w.relatedTarget&&Ee(w.relatedTarget,ne.current)&&(w.target&&((W=(B=w.target)==null?void 0:B.dataset)==null?void 0:W.element)==="labelInput"&&Ee(w.target,ne.current)||((je=(Ve=w.relatedTarget)==null?void 0:Ve.dataset)==null?void 0:je.element)==="labelInput"))&&u.removeFocusedItem()}const Mt=w=>{var B,W;F==null||F(w),((W=(B=w.target)==null?void 0:B.dataset)==null?void 0:W.element)!=="labelInput"&&u.handleItemKeyDown(w,b)},Pt=u.getTreeItemIdAttribute(b,E),Rt=u.canItemBeTabbed(b)?0:-1,oe={rootRefObject:ne,contentRefObject:ve,interactions:{handleSaveItemLabel:me,handleCancelItemLabelEditing:pe}},kt=((ke=P.root)==null?void 0:ke.call(P,y({},oe,{externalEventHandlers:Ce(_)})))??{},At=((Ae=P.content)==null?void 0:Ae.call(P,y({},oe,{externalEventHandlers:Ce(h)})))??{},Pe=((Oe=P.dragAndDropOverlay)==null?void 0:Oe.call(P,y({},oe,{externalEventHandlers:{}})))??{},Re=((De=P.labelInput)==null?void 0:De.call(P,y({},oe,{externalEventHandlers:{}})))??{};return T.jsx(dt,{itemId:b,children:T.jsxs(Nn,y({className:ae(R.root,p),role:"treeitem","aria-expanded":re?O:void 0,"aria-selected":xe,"aria-disabled":z||void 0,id:Pt,tabIndex:Rt},_,{ownerState:Ie,onFocus:vt,onBlur:St,onKeyDown:Mt,ref:pt,style:c?y({},_.style,{"--TreeView-itemDepth":typeof l=="function"?l(b):l}):_.style},kt,{children:[T.jsx(_n,y({as:I,classes:{root:R.content,expanded:R.expanded,selected:R.selected,focused:R.focused,disabled:R.disabled,editable:R.editable,editing:R.editing,iconContainer:R.iconContainer,label:R.label,labelInput:R.labelInput,checkbox:R.checkbox},label:S,itemId:b,onClick:C,onMouseDown:v,icon:wt,expansionIcon:bt,displayIcon:Tt,ownerState:Ie},h,At,Pe.action==null?{}:{dragAndDropOverlayProps:Pe},Re.value==null?{}:{labelInputProps:Re},{ref:mt})),d&&T.jsx(Bn,y({as:Me},ft,{children:d}))]}))})}),Un=({team:e,onSave:t,onCancel:n,allowedMenus:r,setAllowedMenus:i})=>{localStorage.getItem("menu-items");const f=()=>{t({...e,authority:r})},c=(a,u)=>{i(l=>{const o=new Set(l),d=(g,m)=>{g.forEach(I=>{m?o.add(I.id):o.delete(I.id),Array.isArray(I.children)&&d(I.children,m)})},p=!o.has(a);return p?o.add(a):o.delete(a),d(u,p),Array.from(o)})},s=a=>T.jsx(Kn,{nodeid:a.id,itemId:a.id,label:T.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[T.jsx(Xe,{checked:r.includes(a.id),onChange:()=>c(a.id,a.children||[]),size:"small",style:{marginRight:8}}),a.title," "]}),children:Array.isArray(a.children)?a.children.map(s):null},a.id);return T.jsxs("div",{children:[T.jsxs("div",{children:[T.jsx("h2",{children:"Menu Settings"}),T.jsxs(vn,{expansionTrigger:"iconContainer",children:[Nt.items.map(s)," "]})]}),T.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"}}),T.jsx(Te,{variant:"contained",color:"success",onClick:f,children:"Save"}),T.jsx(Te,{variant:"contained",color:"error",onClick:n,style:{marginLeft:"10px"},children:"Cancel"})]})},Xn=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),[i,f]=x.useState(!1),[c,s]=x.useState([]);x.useEffect(()=>{(async()=>{try{const p=await(await fetch("https://backendapi.my.id/api/masterTim/get_tim")).json();p.success&&t(p.data)}catch(d){console.error("Failed to fetch teams:",d)}})()},[]);const a=o=>{r(o),console.log(o,"team"),console.log(o.authority,"authority"),s(o.authority?o.authority:[]),f(!0)},u=async o=>{console.log("Edited team:",o);try{const p=await(await fetch(`https://backendapi.my.id/api/masterTim/update/${o.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name,authority:JSON.stringify(o.authority)})})).json();p.success?(console.log("Updated team:",o),t(g=>g.map(m=>m.id===o.id?o:m)),r(null),f(!1)):console.error("Failed to update team:",p.message)}catch(d){console.error("Error updating team:",d)}},l=[{name:"ID",selector:o=>o.id,sortable:!0},{name:"Name",selector:o=>o.name,sortable:!0},{name:"Actions",cell:o=>T.jsx(Te,{variant:"outlined",onClick:()=>a(o),style:{marginRight:"10px"},startIcon:T.jsx(Bt,{}),children:"Edit"})}];return T.jsxs("div",{children:[T.jsx(_t,{title:"Teams Data",columns:l,data:e,pagination:!0}),n&&T.jsx(Un,{team:n,onSave:u,onCancel:()=>r(null),allowedMenus:c,setAllowedMenus:s})]})},Gn=()=>T.jsxs("div",{children:[T.jsx("h1",{children:"Teams Overview"}),T.jsx(Xn,{})]});export{Gn as default};
